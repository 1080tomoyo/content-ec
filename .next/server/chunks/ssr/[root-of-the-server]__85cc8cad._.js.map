{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///Users/toyamatomoyo/Desktop/content-ec/src/lib/github.ts"],"sourcesContent":["import matter from \"gray-matter\";\nimport { remark } from \"remark\";\nimport html from \"remark-html\";\nimport yaml from \"js-yaml\";\nimport {\n  GitHubItem,\n  Article,\n  Book,\n  ParsedMarkdown,\n  ArticleFrontMatter,\n  BookConfig,\n} from \"../types/github\";\n \n// ‰ªäÂõû‰ΩøÁî®„Åô„Çã„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÅÆ„É™„Éù„Ç∏„Éà„É™\nconst REPO_OWNER = \"b13o\";\nconst REPO_NAME = \"dummy-ec-content\";\n \n// GitHub API URL\nconst RAW_CONTENT_URL = `https://raw.githubusercontent.com/${REPO_OWNER}/${REPO_NAME}/main`;\nconst API_URL = `https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents`;\n \n// „É™„Éù„Ç∏„Éà„É™„ÅÆ„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÇíÂèñÂæó„Åô„Çã\nexport async function fetchDirectoryContents(\n  path: string\n): Promise<GitHubItem[]> {\n  const response = await fetch(`${API_URL}/${path}`, {\n    cache: \"force-cache\",\n  });\n \n  if (!response.ok) {\n    throw new Error(`GitHub API error: ${response.status}`);\n  }\n \n  return await response.json();\n}\n \n// „Éï„Ç°„Ç§„É´„ÅÆÂÜÖÂÆπ„ÇíÂèñÂæó„Åô„Çã\nexport async function fetchFileContent(path: string) {\n  const response = await fetch(`${RAW_CONTENT_URL}/${path}`, {\n    cache: \"force-cache\",\n  });\n  if (!response.ok) {\n    throw new Error(`Failed to fetch file: ${response.status}`);\n  }\n \n  return await response.text();\n}\n \n// YAML„Éï„Ç°„Ç§„É´„Çí„Éë„Éº„Çπ„Åô„Çã\nexport function parseYaml<T>(content: string): T {\n  try {\n    return yaml.load(content) as T;\n  } catch (error) {\n    throw new Error(`Failed to parse YAML: ${error}`);\n  }\n}\n \n// Markdown„Çí„Éë„Éº„Çπ„Åó„Å¶„ÄÅ„Éï„É≠„É≥„Éà„Éû„Çø„Éº„Å®HTMLÂåñ„Åó„ÅüÂÜÖÂÆπ„ÇíËøî„Åô\nexport async function parseMarkdown(markdown: string): Promise<ParsedMarkdown> {\n  // gray-matter„Åß„Éï„É≠„É≥„Éà„Éû„Çø„Éº„ÇíËß£Êûê\n  const { data, content } = matter(markdown);\n \n  // remark„ÅßMarkdown„ÇíHTML„Å´Â§âÊèõ\n  const processedContent = await remark()\n    .use(html, { sanitize: false })\n    .process(content);\n \n  return {\n    frontMatter: data as ArticleFrontMatter,\n    content: processedContent.toString(),\n  };\n}\n \n// Ë®ò‰∫ã‰∏ÄË¶ß„ÇíÂèñÂæó\nexport async function fetchArticles(): Promise<Article[]> {\n  const contents = await fetchDirectoryContents(\"articles\");\n \n  // .keep„Éï„Ç°„Ç§„É´„ÇÑ„Éá„Ç£„É¨„ÇØ„Éà„É™„ÇíÈô§Â§ñ\n  const articleFiles = contents.filter(\n    (item: GitHubItem) =>\n      item.type === \"file\" &&\n      item.name.endsWith(\".md\") &&\n      !item.name.startsWith(\".\")\n  );\n \n  // ÂêÑË®ò‰∫ã„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó\n  const articles = await Promise.all(\n    articleFiles.map(async (file) => {\n      const markdown = await fetchFileContent(`articles/${file.name}`);\n \n      const { frontMatter, content } = await parseMarkdown(markdown);\n \n      return {\n        id: file.name.replace(\".md\", \"\"),\n        title: frontMatter.title || \"„Çø„Ç§„Éà„É´„Å™„Åó\",\n        tags: frontMatter.topics || [],\n        price: frontMatter.price || 0,\n        isPaid: !!frontMatter.price && frontMatter.price > 0,\n        emoji: frontMatter.emoji || \"üìù\",\n        createdAt: frontMatter.published_at || new Date().toISOString(),\n        updatedAt:\n          frontMatter.updated_at ||\n          frontMatter.published_at ||\n          new Date().toISOString(),\n        content: content,\n      };\n    })\n  );\n \n  // null„ÇíÈô§Â§ñ„Åó„Å¶Ëøî„Åô\n  return articles.filter((article) => article !== null);\n}\n \n// Êú¨„ÅÆ‰∏ÄË¶ß„ÇíÂèñÂæó\nexport async function fetchBooks(): Promise<Book[]> {\n  const contents = await fetchDirectoryContents(\"books\");\n \n  // „Éá„Ç£„É¨„ÇØ„Éà„É™„ÅÆ„Åø„ÇíÂèñÂæó\n  const bookDirectories = contents.filter((item) => item.type === \"dir\");\n \n  // ÂêÑÊú¨„ÅÆ„É°„Çø„Éá„Éº„Çø„ÇíÂèñÂæó\n  const books = await Promise.all(\n    bookDirectories.map(async (dir) => {\n      // config.yaml„Éï„Ç°„Ç§„É´„ÇíÂèñÂæó\n      const configContent = await fetchFileContent(\n        `books/${dir.name}/config.yaml`\n      );\n \n      if (!configContent) {\n        return null;\n      }\n \n      // YAMLÂΩ¢Âºè„ÅÆË®≠ÂÆö„Éï„Ç°„Ç§„É´„Çí„Éë„Éº„Çπ\n      const config = parseYaml<BookConfig>(configContent);\n \n      // Ë°®Á¥ôÁîªÂÉè„ÅÆ„Éë„Çπ\n      const coverImagePath = `${RAW_CONTENT_URL}/books/${dir.name}/cover.png`;\n \n      // Á´†„ÅÆ‰∏ÄË¶ß„ÇíÂèñÂæó\n      const chapterContents = await fetchDirectoryContents(`books/${dir.name}`);\n      const chapters = chapterContents\n        .filter(\n          (item) =>\n            item.type === \"file\" &&\n            item.name.endsWith(\".md\") &&\n            !item.name.startsWith(\".\")\n        )\n        .sort((a, b) => {\n          // „Éï„Ç°„Ç§„É´Âêç„ÅÆÊï∞Â≠óÈÉ®ÂàÜ„Åß‰∏¶„Åπ„ÇãÔºà1.intro.md, 2.setup.md „Å™„Å©Ôºâ\n          const aNum = parseInt(a.name.split(\".\")[0]) || 0;\n          const bNum = parseInt(b.name.split(\".\")[0]) || 0;\n          return aNum - bNum;\n        });\n \n      return {\n        id: dir.name,\n        title: config.title || dir.name,\n        description: config.summary || \"\",\n        tags: config.topics || [],\n        price: config.price || 0,\n        isPaid: !!config.price && config.price > 0,\n        coverImage: coverImagePath,\n        chapterCount: chapters.length,\n        createdAt: config.published_at || new Date().toISOString(),\n        updatedAt:\n          config.updated_at || config.published_at || new Date().toISOString(),\n      };\n    })\n  );\n \n  // null„ÇíÈô§Â§ñ„Åó„Å¶Ëøî„Åô\n  return books.filter((book) => book !== null);\n}\n \n// ÁâπÂÆö„ÅÆÊú¨„ÅÆË©≥Á¥∞„ÇíÂèñÂæó\nexport async function fetchBook(slug: string): Promise<Book | null> {\n  // config„Éï„Ç°„Ç§„É´„ÇíÂèñÂæó\n  const configContent = await fetchFileContent(`books/${slug}/config.yaml`);\n \n  if (!configContent) {\n    return null;\n  }\n \n  // YAMLÂΩ¢Âºè„ÅÆË®≠ÂÆö„Éï„Ç°„Ç§„É´„Çí„Éë„Éº„Çπ\n  const config = parseYaml<BookConfig>(configContent);\n \n  // Êú¨„ÅÆ„Éá„Ç£„É¨„ÇØ„Éà„É™ÂÜÖ„ÅÆÁ´†„ÇíÂèñÂæó\n  const contents = await fetchDirectoryContents(`books/${slug}`);\n \n  // Markdown„Éï„Ç°„Ç§„É´„ÅÆ„Åø„Çí„Éï„Ç£„É´„Çø„É™„É≥„Ç∞\n  const chapterFiles = contents\n    .filter(\n      (item) =>\n        item.type === \"file\" &&\n        item.name.endsWith(\".md\") &&\n        !item.name.startsWith(\".\")\n    )\n    .sort((a, b) => {\n      // „Éï„Ç°„Ç§„É´Âêç„ÅÆÊï∞Â≠óÈÉ®ÂàÜ„Åß„ÇΩ„Éº„Éà\n      const aNum = parseInt(a.name.split(\".\")[0]) || 0;\n      const bNum = parseInt(b.name.split(\".\")[0]) || 0;\n      return aNum - bNum;\n    });\n \n  if (chapterFiles.length === 0) {\n    return null;\n  }\n \n  // ÂêÑÁ´†„ÅÆÂÜÖÂÆπ„ÇíÂèñÂæó\n  const chapters = await Promise.all(\n    chapterFiles.map(async (file, index: number) => {\n      const markdown = await fetchFileContent(`books/${slug}/${file.name}`);\n \n      if (!markdown) {\n        return null;\n      }\n \n      const { frontMatter, content } = await parseMarkdown(markdown);\n \n      // „ÉÅ„É£„Éó„Çø„Éº„ÅÆ„Çπ„É©„ÉÉ„Ç∞„ÅØ„ÄÅ„Éï„Ç°„Ç§„É´Âêç„Åã„ÇâÊã°ÂºµÂ≠ê„ÇíÈô§„ÅÑ„Åü„ÇÇ„ÅÆ\n      const chapterSlug = file.name.replace(\".md\", \"\");\n \n      return {\n        slug: chapterSlug,\n        title: frontMatter.title || `Chapter ${index + 1}`,\n        content: content,\n        order: index,\n      };\n    })\n  );\n \n  return {\n    id: slug,\n    title: config.title || slug,\n    description: config.summary || \"\",\n    tags: config.topics || [],\n    price: config.price || 0,\n    isPaid: !!config.price && config.price > 0,\n    coverImage: `${RAW_CONTENT_URL}/books/${slug}/cover.png`,\n    chapters: chapters.filter((chapter) => chapter !== null),\n    chapterCount: chapters.length,\n    createdAt: config.published_at || new Date().toISOString(),\n    updatedAt:\n      config.updated_at || config.published_at || new Date().toISOString(),\n  };\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///Users/toyamatomoyo/Desktop/content-ec/src/app/books/%5BbookSlug%5D/%5BchapterSlug%5D/_components/table-of-contents.tsx"],"sourcesContent":["import { Chapter } from \"@/types/github\";\nimport Link from \"next/link\";\n \ninterface TableOfContentsProps {\n  chapters: Chapter[];\n  currentSlug: string;\n  bookSlug: string;\n}\n \nfunction TableOfContents({\n  chapters,\n  currentSlug,\n  bookSlug,\n}: TableOfContentsProps) {\n  return (\n    <div className=\"h-full overflow-y-auto py-4\">\n      <h3 className=\"text-lg font-bold mb-3 px-4\">ÁõÆÊ¨°</h3>\n      <nav>\n        <ul className=\"space-y-1\">\n          {chapters.map((chapter, index) => (\n            <li key={chapter.slug}>\n              <Link href={`/books/${bookSlug}/${chapter.slug}`}>\n                <div\n                  className={`\n                    flex items-center px-4 py-2 text-sm rounded-lg transition-colors\n                    ${\n                      chapter.slug === currentSlug\n                        ? \"bg-slate-200 font-medium\"\n                        : \"hover:bg-slate-100\"\n                    }\n                  `}\n                >\n                  <span className=\"w-6 text-center mr-2\">{index + 1}</span>\n                  <span className=\"truncate\">{chapter.title}</span>\n                </div>\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </nav>\n    </div>\n  );\n}\n \nexport default TableOfContents;"],"names":[],"mappings":";;;;;AACA;;;AAQA,SAAS,gBAAgB,EACvB,QAAQ,EACR,WAAW,EACX,QAAQ,EACa;IACrB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA8B;;;;;;0BAC5C,8OAAC;0BACC,cAAA,8OAAC;oBAAG,WAAU;8BACX,SAAS,GAAG,CAAC,CAAC,SAAS,sBACtB,8OAAC;sCACC,cAAA,8OAAC,uKAAI;gCAAC,MAAM,CAAC,OAAO,EAAE,SAAS,CAAC,EAAE,QAAQ,IAAI,EAAE;0CAC9C,cAAA,8OAAC;oCACC,WAAW,CAAC;;oBAEV,EACE,QAAQ,IAAI,KAAK,cACb,6BACA,qBACL;kBACH,CAAC;;sDAED,8OAAC;4CAAK,WAAU;sDAAwB,QAAQ;;;;;;sDAChD,8OAAC;4CAAK,WAAU;sDAAY,QAAQ,KAAK;;;;;;;;;;;;;;;;;2BAbtC,QAAQ,IAAI;;;;;;;;;;;;;;;;;;;;;AAsBjC;uCAEe","debugId":null}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":["file:///Users/toyamatomoyo/Desktop/content-ec/src/app/books/%5BbookSlug%5D/%5BchapterSlug%5D/page.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport { notFound } from \"next/navigation\";\nimport { fetchBook, fetchBooks } from \"@/lib/github\";\nimport { Button } from \"@/components/ui/button\";\nimport { ChevronLeft, ChevronRight, BookOpen } from \"lucide-react\";\nimport TableOfContents from \"./_components/table-of-contents\";\n \nexport async function generateStaticParams() {\n  // „Åô„Åπ„Å¶„ÅÆÊú¨„ÇíÂèñÂæó\n  const books = await fetchBooks();\n \n  // ÂÖ®„Å¶„ÅÆÊú¨„ÅÆ‰∏≠„ÅÆ„ÄÅÂÖ®„Å¶„ÅÆ„ÉÅ„É£„Éó„Çø„Éº„ÇíÂèñÂæó\n  const paramsPromises = books.map(async (book) => {\n    const bookDetail = await fetchBook(book.id).catch(() => null);\n \n    if (!bookDetail || !bookDetail.chapters) return [];\n \n    return bookDetail.chapters.map((chapter) => ({\n      bookSlug: book.id,\n      chapterSlug: chapter.slug,\n    }));\n  });\n \n  const nestedParams = await Promise.all(paramsPromises);\n  return nestedParams.flat();\n}\n \ninterface ChapterPageProps {\n  params: Promise<{ bookSlug: string; chapterSlug: string }>;\n}\n \nexport default async function ChapterPage({ params }: ChapterPageProps) {\n  const { bookSlug, chapterSlug } = await params;\n  const book = await fetchBook(bookSlug);\n \n  if (!book || !book.chapters) {\n    notFound();\n  }\n \n  // „Éá„Éº„Çø‰∏ÄË¶ß„Åã„Çâ„ÄÅÁèæÂú®„ÅÆ„ÉÅ„É£„Éó„Çø„Éº„ÇíÊé¢„Åô\n  const chapterIndex = book.chapters.findIndex(\n    (chapter) => chapter.slug === chapterSlug\n  );\n \n  if (chapterIndex === -1) {\n    notFound();\n  }\n \n  const chapter = book.chapters[chapterIndex];\n  // ÂâçÂæå„ÅÆ„ÉÅ„É£„Éó„Çø„Éº„ÇíÂèñÂæó\n  const prevChapter = chapterIndex > 0 ? book.chapters[chapterIndex - 1] : null;\n  const nextChapter =\n    chapterIndex < book.chapters.length - 1\n      ? book.chapters[chapterIndex + 1]\n      : null;\n \n  return (\n    <div className=\"min-h-screen flex bg-white\">\n      {/* „Çµ„Ç§„Éâ„Éê„Éº */}\n      <aside className=\"hidden lg:block sticky top-[65px] h-[calc(100vh-65px)] w-80 bg-white border-r border-gray-100 z-10 overflow-y-auto\">\n        <TableOfContents\n          chapters={book.chapters}\n          currentSlug={chapterSlug}\n          bookSlug={bookSlug}\n        />\n      </aside>\n \n      {/* „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ */}\n      <main className=\"flex-1 min-w-0\">\n        <div className=\"w-full bg-slate-50 py-12\">\n          <div className=\"container mx-auto px-4 max-w-3xl\">\n            <div className=\"flex flex-col items-center text-center space-y-6\">\n              <Link\n                href={`/books/${bookSlug}`}\n                className=\"flex items-center text-gray-700 hover:text-gray-900\"\n              >\n                <BookOpen className=\"h-5 w-5 mr-2\" />\n                <span className=\"font-medium\">{book.title}</span>\n              </Link>\n              <h1 className=\"text-3xl md:text-4xl font-bold tracking-tight\">\n                {chapter.title}\n              </h1>\n              <div className=\"text-gray-500\">\n                Chapter {chapterIndex + 1} of {book.chapters.length}\n              </div>\n            </div>\n          </div>\n        </div>\n \n        {/* „ÉÅ„É£„Éó„Çø„ÉºÂÜÖÂÆπ */}\n        <article className=\"container mx-auto px-4 py-12 max-w-3xl\">\n          <div\n            className=\"prose prose-lg max-w-none\"\n            dangerouslySetInnerHTML={{ __html: chapter.content }}\n          />\n        </article>\n \n        {/* Á´†Èñì„ÅÆ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ */}\n        <div className=\"container mx-auto px-4 py-8 max-w-3xl border-t border-gray-100\">\n          <div className=\"flex flex-col sm:flex-row justify-between items-center gap-4\">\n            {prevChapter && (\n              <Link\n                href={`/books/${bookSlug}/${prevChapter?.slug || chapter.slug}`}\n              >\n                <Button\n                  variant=\"outline\"\n                  className=\"w-full sm:w-auto px-24! py-12 text-lg\"\n                >\n                  <ChevronLeft className=\"h-4 w-4 mr-2\" />\n                  Ââç„ÅÆÁ´†\n                </Button>\n              </Link>\n            )}\n \n            {nextChapter && (\n              <Link\n                href={`/books/${bookSlug}/${nextChapter?.slug || chapter.slug}`}\n              >\n                <Button\n                  variant=\"outline\"\n                  className=\"w-full sm:w-auto px-24! py-12 text-lg\"\n                >\n                  Ê¨°„ÅÆÁ´†\n                  <ChevronRight className=\"h-4 w-4 ml-2\" />\n                </Button>\n              </Link>\n            )}\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;;;;;;;;AAEO,eAAe;IACpB,WAAW;IACX,MAAM,QAAQ,MAAM,IAAA,kIAAU;IAE9B,sBAAsB;IACtB,MAAM,iBAAiB,MAAM,GAAG,CAAC,OAAO;QACtC,MAAM,aAAa,MAAM,IAAA,iIAAS,EAAC,KAAK,EAAE,EAAE,KAAK,CAAC,IAAM;QAExD,IAAI,CAAC,cAAc,CAAC,WAAW,QAAQ,EAAE,OAAO,EAAE;QAElD,OAAO,WAAW,QAAQ,CAAC,GAAG,CAAC,CAAC,UAAY,CAAC;gBAC3C,UAAU,KAAK,EAAE;gBACjB,aAAa,QAAQ,IAAI;YAC3B,CAAC;IACH;IAEA,MAAM,eAAe,MAAM,QAAQ,GAAG,CAAC;IACvC,OAAO,aAAa,IAAI;AAC1B;AAMe,eAAe,YAAY,EAAE,MAAM,EAAoB;IACpE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,MAAM;IACxC,MAAM,OAAO,MAAM,IAAA,iIAAS,EAAC;IAE7B,IAAI,CAAC,QAAQ,CAAC,KAAK,QAAQ,EAAE;QAC3B,IAAA,iMAAQ;IACV;IAEA,sBAAsB;IACtB,MAAM,eAAe,KAAK,QAAQ,CAAC,SAAS,CAC1C,CAAC,UAAY,QAAQ,IAAI,KAAK;IAGhC,IAAI,iBAAiB,CAAC,GAAG;QACvB,IAAA,iMAAQ;IACV;IAEA,MAAM,UAAU,KAAK,QAAQ,CAAC,aAAa;IAC3C,cAAc;IACd,MAAM,cAAc,eAAe,IAAI,KAAK,QAAQ,CAAC,eAAe,EAAE,GAAG;IACzE,MAAM,cACJ,eAAe,KAAK,QAAQ,CAAC,MAAM,GAAG,IAClC,KAAK,QAAQ,CAAC,eAAe,EAAE,GAC/B;IAEN,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAM,WAAU;0BACf,cAAA,8OAAC,4MAAe;oBACd,UAAU,KAAK,QAAQ;oBACvB,aAAa;oBACb,UAAU;;;;;;;;;;;0BAKd,8OAAC;gBAAK,WAAU;;kCACd,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,uKAAI;wCACH,MAAM,CAAC,OAAO,EAAE,UAAU;wCAC1B,WAAU;;0DAEV,8OAAC,0NAAQ;gDAAC,WAAU;;;;;;0DACpB,8OAAC;gDAAK,WAAU;0DAAe,KAAK,KAAK;;;;;;;;;;;;kDAE3C,8OAAC;wCAAG,WAAU;kDACX,QAAQ,KAAK;;;;;;kDAEhB,8OAAC;wCAAI,WAAU;;4CAAgB;4CACpB,eAAe;4CAAE;4CAAK,KAAK,QAAQ,CAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;kCAO3D,8OAAC;wBAAQ,WAAU;kCACjB,cAAA,8OAAC;4BACC,WAAU;4BACV,yBAAyB;gCAAE,QAAQ,QAAQ,OAAO;4BAAC;;;;;;;;;;;kCAKvD,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;gCACZ,6BACC,8OAAC,uKAAI;oCACH,MAAM,CAAC,OAAO,EAAE,SAAS,CAAC,EAAE,aAAa,QAAQ,QAAQ,IAAI,EAAE;8CAE/D,cAAA,8OAAC,4IAAM;wCACL,SAAQ;wCACR,WAAU;;0DAEV,8OAAC,mOAAW;gDAAC,WAAU;;;;;;4CAAiB;;;;;;;;;;;;gCAM7C,6BACC,8OAAC,uKAAI;oCACH,MAAM,CAAC,OAAO,EAAE,SAAS,CAAC,EAAE,aAAa,QAAQ,QAAQ,IAAI,EAAE;8CAE/D,cAAA,8OAAC,4IAAM;wCACL,SAAQ;wCACR,WAAU;;4CACX;0DAEC,8OAAC,sOAAY;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS1C","debugId":null}}]
}